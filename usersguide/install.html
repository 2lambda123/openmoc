<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2. Installation and Configuration &mdash; OpenMOC Documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OpenMOC Documentation" href="../index.html" />
    <link rel="up" title="User’s Guide" href="index.html" />
    <link rel="next" title="3. Writing Python Input Files" href="input.html" />
    <link rel="prev" title="1. A Beginner’s Guide to OpenMOC" href="beginners.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="input.html" title="3. Writing Python Input Files"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="beginners.html" title="1. A Beginner’s Guide to OpenMOC"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">OpenMOC Documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installation-and-configuration">
<span id="install"></span><h1>2. Installation and Configuration<a class="headerlink" href="#installation-and-configuration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prerequisites">
<h2>2.1. Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="ubuntu_prerequisites.html#ubuntu-prerequisites"><em>Installing Prerequisites on Ubuntu</em></a></li>
<li><a class="reference internal" href="mac_prerequisites.html#mac-prerequisites"><em>Installing Prerequisites on Mac OS X</em></a></li>
</ul>
</div>
<div class="section" id="obtaining-the-source">
<h2>2.2. Obtaining the Source<a class="headerlink" href="#obtaining-the-source" title="Permalink to this headline">¶</a></h2>
<p>All OpenMOC source code is hosted on <a class="reference external" href="https://github.com/mit-crpg/OpenMOC">GitHub</a>. You can download the source code directly from GitHub or, if you have the <a class="reference external" href="http://git-scm.com">Git</a> version control software installed on your computer, you can use git to obtain the source code. The latter method has the benefit that it is easy to receive updates directly from the GitHub repository. GitHub has a good set of <a class="reference external" href="http://help.github.com/set-up-git-redirect">instructions</a> for how to set up git to work with GitHub since this involves setting up <a class="reference external" href="http://en.wikipedia.org/wiki/Secure_Shell">ssh</a> keys. With git installed and setup, the following command will download the full source code from the GitHub repository:</p>
<div class="highlight-python"><div class="highlight"><pre>git clone https://github.com/mit-crpg/OpenMOC.git
</pre></div>
</div>
</div>
<div class="section" id="building-from-source">
<h2>2.3. Building From Source<a class="headerlink" href="#building-from-source" title="Permalink to this headline">¶</a></h2>
<div class="section" id="standard-build-configuration">
<h3>2.3.1. Standard Build Configuration<a class="headerlink" href="#standard-build-configuration" title="Permalink to this headline">¶</a></h3>
<p>To compile and install the code in a user local directory (recommended), simply run the following from the console:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py install --user
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The <a class="reference internal" href="#cmdoption--user"><em class="xref std std-option">--user</em></a> flag should be used verbatim and should <strong>NOT</strong> be replaced with your username.</p>
</div>
<p>To compile and install the code in the directory of all Python packages accessible to all users of your machine (not recommended), run the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py install
</pre></div>
</div>
<p>The code will now be accessible as a Python module from anywhere on your system.
The main OpenMOC Python package can be imported into any Python script as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">openmoc</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Some Python distributions require that the code be built and installed <strong>twice</strong> in order to setup all of the <a class="reference external" href="http://en.wikipedia.org/wiki/Symbolic_link">symbolic links</a> correctly. This is only the case the first time OpenMOC is installed on a machine. Hence, code developers who subsequently make modifications to the source code only need to build and install the code once to have access to the modified binary.</p>
</div>
</div>
<div class="section" id="custom-build-configuration">
<h3>2.3.2. Custom Build Configuration<a class="headerlink" href="#custom-build-configuration" title="Permalink to this headline">¶</a></h3>
<p>OpenMOC provides a number of user options to customize what and how OpenMOC source is compiled and built on your system. OpenMOC makes use of Python&#8217;s <a class="reference external" href="http://docs.python.org/2/library/distutils.html#module-distutils">distutils</a> build configuration management module.</p>
<p>To view a list of all of build commands supported by Python distutils, type the following in the console:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py --help-commands
</pre></div>
</div>
<p>To install OpenMOC, we typically recommend using the <strong class="program">install</strong> command which builds and installs the code alongside other commonly referenced Python packagaes. The <strong class="program">install</strong> command includes its own set of options, some of which are defined by OpenMOC and some of which are defined by <a class="reference external" href="http://docs.python.org/2/library/distutils.html#module-distutils">distutils</a>. To view a list of these options, type the following in the console:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py install --help
</pre></div>
</div>
</div>
<div class="section" id="build-configuration-options">
<span id="id1"></span><h3>2.3.3. Build Configuration Options<a class="headerlink" href="#build-configuration-options" title="Permalink to this headline">¶</a></h3>
<p>This section section will provides an overview of the most useful and relevant build options for OpenMOC developers.</p>
<dl class="option">
<dt id="cmdoption--user">
<tt class="descname">--user</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Installs OpenMOC in a user local directory (ie, <cite>/home/username/.local/lib/pythonX.X/site-packages</cite>) where it will only be accessible to your username. Installation without this option will instead install OpenMOC in the main Python directory accessible to all users of your machine (ie, <cite>/usr/lib/pythonX.X/site-packages/</cite>). This option is highly recommended for developers as it will prevent your Python packages from being polluted with code that has not yet been validated.</p>
<dl class="option">
<dt id="cmdoption--prefix">
<tt class="descname">--prefix</tt><tt class="descclassname">=&lt;path to install OpenMOC&gt;</tt><a class="headerlink" href="#cmdoption--prefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Installs OpenMOC to an explicitly defined directory. This options is generally not useful unless your directory is included in your <span class="target" id="index-0"></span><tt class="xref std std-envvar docutils literal"><span class="pre">PYTHONPATH</span></tt> such that you can import <tt class="docutils literal"><span class="pre">openmoc</span></tt> into your Python scripts.</p>
<dl class="option">
<dt id="cmdoption--cc">
<tt class="descname">--cc</tt><tt class="descclassname">=&lt;gcc,icpc,bgxlc&gt;</tt><a class="headerlink" href="#cmdoption--cc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Sets the C++ compiler for the main <tt class="docutils literal"><span class="pre">openmoc</span></tt> module. Presently, GNU&#8217;s <a class="reference external" href="http://gcc.gnu.org/">gcc</a>, Intel&#8217;s <a class="reference external" href="http://software.intel.com/en-us/intel-compilers">icpc</a> and IBM&#8217;s <a class="reference external" href="http://www-03.ibm.com/software/products/us/en/ccompfami/">bgxlc</a> are all configured if the path to the binary is pointed to by by the <span class="target" id="index-1"></span><tt class="xref std std-envvar docutils literal"><span class="pre">PATH</span></tt> environment variable. The default setting is the <strong class="program">gcc</strong> compiler.</p>
<dl class="option">
<dt id="cmdoption--fp">
<tt class="descname">--fp</tt><tt class="descclassname">=&lt;single,double&gt;</tt><a class="headerlink" href="#cmdoption--fp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Sets the floating point precision level for the main <tt class="docutils literal"><span class="pre">openmoc</span></tt> module. This sets the <span class="target" id="index-2"></span><tt class="xref std std-envvar docutils literal"><span class="pre">FP_PRECISION</span></tt> macro in the source code by setting it as an environment variable at compile time. The default setting is <span class="target" id="index-3"></span><tt class="xref std std-envvar docutils literal"><span class="pre">single</span></tt>.</p>
<dl class="option">
<dt id="cmdoption--with-cuda">
<tt class="descname">--with-cuda</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--with-cuda" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Compiles the <tt class="docutils literal"><span class="pre">openmoc.cuda</span></tt> module using the <strong class="program">nvcc</strong> compiler. This module contains <tt class="xref cpp cpp-class docutils literal"><span class="pre">GPUSolver</span></tt> class with MOC routines for execution on NVIDIA GPUs. The default build configuration does not include the <tt class="docutils literal"><span class="pre">openmoc.cuda</span></tt> module.</p>
<dl class="option">
<dt id="cmdoption--with-gcc">
<tt class="descname">--with-gcc</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--with-gcc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Compiles the <tt class="docutils literal"><span class="pre">openmoc.gnu.single</span></tt> and / or <tt class="docutils literal"><span class="pre">openmoc.gnu.double</span></tt> modules using GNU&#8217;s <strong class="program">gcc</strong> C++ compiler. If one or both of <a class="reference internal" href="#cmdoption--with-sp"><em class="xref std std-option">--with-sp</em></a> and <a class="reference internal" href="#cmdoption--with-sp"><em class="xref std std-option">--with-sp</em></a> are also specified, the appropriate modules will be built and installed. If the floating point precision is not specified, <tt class="docutils literal"><span class="pre">openmoc.gnu.single</span></tt> will be built by default.</p>
<dl class="option">
<dt id="cmdoption--with-icpc">
<tt class="descname">--with-icpc</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--with-icpc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Compiles the <tt class="docutils literal"><span class="pre">openmoc.intel.single</span></tt> and / or <tt class="docutils literal"><span class="pre">openmoc.intel.double</span></tt> modules using Intel&#8217;s <strong class="program">icpc</strong> C++ compiler. If one or both of <a class="reference internal" href="#cmdoption--with-sp"><em class="xref std std-option">--with-sp</em></a> and <a class="reference internal" href="#cmdoption--with-sp"><em class="xref std std-option">--with-sp</em></a> are also specified, the appropriate modules will be built and installed. If the floating point precision is not specified, <tt class="docutils literal"><span class="pre">openmoc.intel.single</span></tt> will be built by default.</p>
<dl class="option">
<dt id="cmdoption--with-bgxlc">
<tt class="descname">--with-bgxlc</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--with-bgxlc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Compiles the <tt class="docutils literal"><span class="pre">openmoc.bgq.single</span></tt> and / or <tt class="docutils literal"><span class="pre">openmoc.bgq.double</span></tt> modules using IBM&#8217;s <strong class="program">bgxlc</strong> C++ compiler. If one or both of <a class="reference internal" href="#cmdoption--with-sp"><em class="xref std std-option">--with-sp</em></a> and <a class="reference internal" href="#cmdoption--with-sp"><em class="xref std std-option">--with-sp</em></a> are also specified, the appropriate modules will be built and installed. If the floating point precision is not specified, <tt class="docutils literal"><span class="pre">openmoc.bgq.single</span></tt> will be built by default.</p>
<dl class="option">
<dt id="cmdoption--with-sp">
<tt class="descname">--with-sp</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--with-sp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Specifies the <span class="target" id="index-4"></span><tt class="xref std std-envvar docutils literal"><span class="pre">single</span></tt> floating point precision level to be used for <tt class="docutils literal"><span class="pre">openmoc.gnu.single</span></tt>, <tt class="docutils literal"><span class="pre">openmoc.intel.single</span></tt>, and / or <tt class="docutils literal"><span class="pre">openmoc.bgq.single</span></tt> modules. This option must be used in conjunction with the <a class="reference internal" href="#cmdoption--with-gcc"><em class="xref std std-option">--with-gcc</em></a>, <a class="reference internal" href="#cmdoption--with-icpc"><em class="xref std std-option">--with-icpc</em></a>, and / or <a class="reference internal" href="#cmdoption--with-bgxlc"><em class="xref std std-option">--with-bgxlc</em></a> options.</p>
<dl class="option">
<dt id="cmdoption--with-dp">
<tt class="descname">--with-dp</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--with-dp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Specifies the <span class="target" id="index-5"></span><tt class="xref std std-envvar docutils literal"><span class="pre">double</span></tt> floating point precision level to be used for <tt class="docutils literal"><span class="pre">openmoc.gnu.double</span></tt>, <tt class="docutils literal"><span class="pre">openmoc.intel.double</span></tt>, and / or <tt class="docutils literal"><span class="pre">openmoc.bgq.double</span></tt> modules. This option must be used in conjunction with the <a class="reference internal" href="#cmdoption--with-gcc"><em class="xref std std-option">--with-gcc</em></a>, <a class="reference internal" href="#cmdoption--with-icpc"><em class="xref std std-option">--with-icpc</em></a>, and / or <a class="reference internal" href="#cmdoption--with-bgxlc"><em class="xref std std-option">--with-bgxlc</em></a> options.</p>
<dl class="option">
<dt id="cmdoption--debug-mode">
<tt class="descname">--debug-mode</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--debug-mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Compiles with debugging symbols and information by including the <span class="target" id="index-6"></span><tt class="xref std std-envvar docutils literal"><span class="pre">-g</span></tt> compile flag.</p>
<dl class="option">
<dt id="cmdoption--no-numpy">
<tt class="descname">--no-numpy</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--no-numpy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Compiles OpenMOC without embedding the NumPy C API. This is severely limiting for integrating both OpenMOC source convergence calculations and data analysis into Python, but may be necessary on some machines such as IBM&#8217;s <a class="reference external" href="http://www-03.ibm.com/systems/technicalcomputing/solutions/bluegene/">BlueGene</a> where NumPy is not a standard package.</p>
<dl class="option">
<dt id="cmdoption--with-papi">
<tt class="descname">--with-papi</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--with-papi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Compiles all <tt class="xref cpp cpp-class docutils literal"><span class="pre">Solver</span></tt> derived classes with <a class="reference external" href="http://icl.cs.utk.edu/papi/">PAPI</a> instrumentation for performance counter measurements.</p>
<dl class="option">
<dt id="cmdoption--with-ccache">
<tt class="descname">--with-ccache</tt><tt class="descclassname"></tt><a class="headerlink" href="#cmdoption--with-ccache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Compiles using <a class="reference external" href="http://ccache.samba.org">ccache</a> which uses a cache to speedup compilation of unchanged source files with the binaries from previous compilations. This flag is only relevant for developers needing to frequently recompile the source code. The ccache p]rogram must be installed for this flag to work. The following console command will install ccache on Ubuntu:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install ccache
</pre></div>
</div>
</div>
</div>
<div class="section" id="installing-on-ubuntu-with-ppa">
<h2>2.4. Installing on Ubuntu with PPA<a class="headerlink" href="#installing-on-ubuntu-with-ppa" title="Permalink to this headline">¶</a></h2>
<p>A binary package for Debian Linux derivatives, such as Ubuntu, is under development. Please check back at a later time for further updates.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/openmoc-logo-sphinx.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2. Installation and Configuration</a><ul>
<li><a class="reference internal" href="#prerequisites">2.1. Prerequisites</a></li>
<li><a class="reference internal" href="#obtaining-the-source">2.2. Obtaining the Source</a></li>
<li><a class="reference internal" href="#building-from-source">2.3. Building From Source</a><ul>
<li><a class="reference internal" href="#standard-build-configuration">2.3.1. Standard Build Configuration</a></li>
<li><a class="reference internal" href="#custom-build-configuration">2.3.2. Custom Build Configuration</a></li>
<li><a class="reference internal" href="#build-configuration-options">2.3.3. Build Configuration Options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installing-on-ubuntu-with-ppa">2.4. Installing on Ubuntu with PPA</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="beginners.html"
                        title="previous chapter">1. A Beginner&#8217;s Guide to OpenMOC</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="input.html"
                        title="next chapter">3. Writing Python Input Files</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/usersguide/install.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="input.html" title="3. Writing Python Input Files"
             >next</a> |</li>
        <li class="right" >
          <a href="beginners.html" title="1. A Beginner’s Guide to OpenMOC"
             >previous</a> |</li>
        <li><a href="../index.html">OpenMOC Documentation</a> &raquo;</li>
          <li><a href="index.html" >User&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012-2013, Massachusetts Institute of Technology.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30411614-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>