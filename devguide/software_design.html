<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1. Software Design &mdash; OpenMOC Documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OpenMOC Documentation" href="../index.html" />
    <link rel="up" title="Developer’s Guide" href="index.html" />
    <link rel="next" title="2. Simplified Wrapper Interface Generator (SWIG)" href="swig.html" />
    <link rel="prev" title="Developer’s Guide" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="swig.html" title="2. Simplified Wrapper Interface Generator (SWIG)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Developer’s Guide"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">OpenMOC Documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Developer&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="software-design">
<span id="id1"></span><h1>1. Software Design<a class="headerlink" href="#software-design" title="Permalink to this headline">¶</a></h1>
<p>OpenMOC uses a compiled language coupled with a scripting language &#8220;glue&#8221; <a class="footnote-reference" href="#id5" id="id2">[1]</a>, a methodology that has increasingly gained traction across disciplines since it enables both usability and performance. The majority of the source code is written in C/C++ as it is the most robust and well supported general purpose, high performance, compiled programming language with object-oriented features. In addition, OpenMOC&#8217;s solver routines for the GPU are written in NVIDIA&#8217;s CUDA programming language <a class="footnote-reference" href="#id6" id="id3">[2]</a> - a compiled language with similar syntax to C/C++. The widely adopted Simplified Wrapper Interface Generator (SWIG) <a class="footnote-reference" href="#id7" id="id4">[3]</a> is deployed to expose the C/C++/CUDA classes and routines to the Python scripting language. The model to couple the compiled C/C++/CUDA code to the Python scripting language is illustrated in <a class="reference internal" href="#figure-software-design"><em>Figure 1</em></a>. OpenMOC&#8217;s Python interface allows for rapid prototyping and testing of code features and tight integration with the rich ecosystem of powerful data processing and visualization tools developed for Python.</p>
<div class="align-center figure" id="figure-software-design">
<a class="reference internal image-reference" href="../_images/openmoc-software-design.png"><img alt="../_images/openmoc-software-design.png" src="../_images/openmoc-software-design.png" style="width: 500px;" /></a>
<p class="caption"><strong>Figure 1</strong>: Programming model in OpenMOC.</p>
</div>
<div class="section" id="object-oriented-design">
<h2>1.1. Object-Oriented Design<a class="headerlink" href="#object-oriented-design" title="Permalink to this headline">¶</a></h2>
<p>OpenMOC is designed using the Object-Oriented (OO) programming paradigm, the standard for software development for over two decades. In OO programming, data structures called <strong>classes</strong> are used to encapsulate both attributes and subroutines. Object-oriented programming is powerful since it directly enables code generalization and requires the use of <strong>trust boundaries</strong> which lead to more resilient code. An OpenMOC simulation is created through the instantiation and manipulation of class objects. A complete listing of classes in OpenMOC is displayed in <a class="reference internal" href="#table-classes"><em>Table 1</em></a>.</p>
<table border="1" class="docutils" id="table-classes">
<colgroup>
<col width="35%" />
<col width="29%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class</th>
<th class="head">Parent Class</th>
<th class="head">Category</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">Surface</span></tt></td>
<td>N/A</td>
<td>Constructive Solid Geometry</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">Plane</span></tt></td>
<td><tt class="docutils literal"><span class="pre">Surface</span></tt></td>
<td>Constructive Solid Geometry</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">XPlane</span></tt></td>
<td><tt class="docutils literal"><span class="pre">Plane</span></tt></td>
<td>Constructive Solid Geometry</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">YPlane</span></tt></td>
<td><tt class="docutils literal"><span class="pre">Plane</span></tt></td>
<td>Constructive Solid Geometry</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">Circle</span></tt></td>
<td><tt class="docutils literal"><span class="pre">Surface</span></tt></td>
<td>Constructive Solid Geometry</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">Cell</span></tt></td>
<td>N/A</td>
<td>Constructive Solid Geometry</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">Universe</span></tt></td>
<td><tt class="docutils literal"><span class="pre">Universe</span></tt></td>
<td>Constructive Solid Geometry</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">Lattice</span></tt></td>
<td>N/A</td>
<td>Constructive Solid Geometry</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">Geometry</span></tt></td>
<td>N/A</td>
<td>Constructive Solid Geometry</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">TrackGenerator</span></tt></td>
<td>N/A</td>
<td>Ray Tracing</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">Quadrature</span></tt></td>
<td>N/A</td>
<td>Ray Tracing</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">Material</span></tt></td>
<td>N/A</td>
<td>Nuclear Data</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">Solver</span></tt></td>
<td>N/A</td>
<td>Method of Characteristics</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">CPUSolver</span></tt></td>
<td><tt class="docutils literal"><span class="pre">Solver</span></tt></td>
<td>Method of Characteristics</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">GPUSolver</span></tt></td>
<td><tt class="docutils literal"><span class="pre">Solver</span></tt></td>
<td>Method of Characteristics</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">ThreadPrivateSolver</span></tt></td>
<td><tt class="docutils literal"><span class="pre">CPUSolver</span></tt></td>
<td>Method of Characteristics</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">VectorizedSolver</span></tt></td>
<td><tt class="docutils literal"><span class="pre">CPUSolver</span></tt></td>
<td>Method of Characteristics</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">VectorizedPrivateSolver</span></tt></td>
<td><tt class="docutils literal"><span class="pre">VectorizedSolver</span></tt></td>
<td>Method of Characteristics</td>
</tr>
</tbody>
</table>
<p><strong>Table 1</strong>: OpenMOC&#8217;s classes.</p>
</div>
<div class="section" id="python-modules">
<h2>1.2. Python Modules<a class="headerlink" href="#python-modules" title="Permalink to this headline">¶</a></h2>
<p>OpenMOC’s Python interface makes it relatively easy to create complicated simulation input. Generating input for an OpenMOC simulation does not involve writing an input file in the traditional sense. OpenMOC leverages the flexiblity provided by Python to allow users complete control to build their inputs in one or more scripts just as one may do for any Python program. The user imports the necessary OpenMOC modules (see <a class="reference internal" href="#table-python-modules"><em>Table 2</em></a>) into Python and “builds” a simulation using only those classes and routines which are needed.</p>
<table border="1" class="docutils" id="table-python-modules">
<colgroup>
<col width="37%" />
<col width="63%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Module</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">openmoc</span></tt></td>
<td>The main module for OpenMOC</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">openmoc.options</span></tt></td>
<td>Command line options</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">openmoc.log</span></tt></td>
<td>Level-based logging messages</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">openmoc.materialize</span></tt></td>
<td>Import/export multi-group nuclear data</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">openmoc.plotter</span></tt></td>
<td>Visualizations for geometry, flux, etc.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">openmoc.process</span></tt></td>
<td>Data processing</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">openmoc.cuda</span></tt></td>
<td>Solver for NVIDIA GPUs</td>
</tr>
</tbody>
</table>
<p><strong>Table 2</strong>: OpenMOC&#8217;s Python modules.</p>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td><ol class="first last upperalpha simple" start="13">
<li>Sanner, &#8220;Python: A Programming Language for Software Integration and Development.&#8221; Journal of Molecular Graphics and Modelling, <strong>17(1)</strong>, pp. 57-61 (1999).</li>
</ol>
</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>NVIDIA, &#8220;NVIDIA CUDA C Programming Guide.&#8221; <a class="reference external" href="http://docs.nvidia.com/cuda/cuda-c-programming-guide/">http://docs.nvidia.com/cuda/cuda-c-programming-guide/</a> (2013).</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[3]</a></td><td><ol class="first last upperalpha simple" start="4">
<li>Beazley, &#8220;Automated Scientific Software Scripting with SWIG.&#8221; Future Generation Computer Systems, <strong>19(5)</strong>, pp. 599-609 (2003).</li>
</ol>
</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/openmoc-logo-sphinx-small.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1. Software Design</a><ul>
<li><a class="reference internal" href="#object-oriented-design">1.1. Object-Oriented Design</a></li>
<li><a class="reference internal" href="#python-modules">1.2. Python Modules</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Developer&#8217;s Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="swig.html"
                        title="next chapter">2. Simplified Wrapper Interface Generator (SWIG)</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/devguide/software_design.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="swig.html" title="2. Simplified Wrapper Interface Generator (SWIG)"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Developer’s Guide"
             >previous</a> |</li>
        <li><a href="../index.html">OpenMOC Documentation</a> &raquo;</li>
          <li><a href="index.html" >Developer&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
<<<<<<< HEAD
        &copy; Copyright 2012-2014, Massachusetts Institute of Technology.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
=======
        &copy; Copyright 2012-2013, Massachusetts Institute of Technology.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
>>>>>>> 78b418280894e07bda3e689c29e4fd10bffe914b
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30411614-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>