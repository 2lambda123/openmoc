
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2. Simplified Wrapper Interface Generator (SWIG) &mdash; OpenMOC Documentation</title>
    
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="OpenMOC Documentation" href="../index.html" />
    <link rel="up" title="Developer’s Guide" href="index.html" />
    <link rel="next" title="3. Python Build System" href="build_system.html" />
    <link rel="prev" title="1. Software Design" href="software_design.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="build_system.html" title="3. Python Build System"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="software_design.html" title="1. Software Design"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">OpenMOC Documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Developer&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="simplified-wrapper-interface-generator-swig">
<span id="swig"></span><h1>2. Simplified Wrapper Interface Generator (SWIG)<a class="headerlink" href="#simplified-wrapper-interface-generator-swig" title="Permalink to this headline">¶</a></h1>
<p>[THIS SITE IS UNDER CONSTRUCTION]</p>
<div class="section" id="swig-wrap-file">
<h2>2.1. SWIG Wrap File<a class="headerlink" href="#swig-wrap-file" title="Permalink to this headline">¶</a></h2>
<div class="section" id="c-c-wrap-file">
<h3>2.1.1. C/C++ Wrap File<a class="headerlink" href="#c-c-wrap-file" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="python-bindings-file">
<h3>2.1.2. Python Bindings File<a class="headerlink" href="#python-bindings-file" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="swig-from-the-command-line">
<h2>2.2. SWIG from the Command Line<a class="headerlink" href="#swig-from-the-command-line" title="Permalink to this headline">¶</a></h2>
<p>SWIG is provided as the <tt class="docutils literal"><span class="pre">swig</span></tt> executable and is called on the command line to wrap C/C++ source code given a SWIG interface file (see <em class="xref std std-ref">SWIG Interface File</em>). The call to <tt class="docutils literal"><span class="pre">swig</span></tt> produces a SWIG wrap file, which is designated following the <em class="xref std std-option">-o</em> argument. The language used for the input source files (<em>e.g.</em>, C/C++) as well as the language targeted for the bindings (<em>e.g.</em>, Python) must be specified as flags to the <tt class="docutils literal"><span class="pre">swig</span></tt> executable. An example of how one might issue a command from the shell to wrap the source code in the <tt class="file docutils literal"><span class="pre">my_module.i</span></tt> SWIG interface file could be the following:</p>
<div class="highlight-python"><pre>swig -python -c++ -o my_module_wrap.cpp my_module.i</pre>
</div>
</div>
<div class="section" id="default-parameters">
<h2>2.3. Default Parameters<a class="headerlink" href="#default-parameters" title="Permalink to this headline">¶</a></h2>
<p>It is highly recommended that developers make use of <a class="reference external" href="http://www.learncpp.com/cpp-tutorial/77-default-parameters/">default parameters</a> for routines when possible. Default arguments in a C++ routine are wrapped by <tt class="docutils literal"><span class="pre">swig</span></tt> given the <em class="xref std std-option">-keyword</em> to provide <a class="reference external" href="http://en.wikipedia.org/wiki/Named_parameter">keyword arguments</a> (also known as named parameters) in the Python binding for that routine. There are several benefits for defining default arguments in the C/C++ source code:</p>
<ul class="simple">
<li><strong>Readability</strong> - Keyword arguments make code more readable, especially in example input files for users new to OpenMOC</li>
<li><strong>Ordering</strong> - Keyword arguments can be provided in any order, lessening the burden to the user to remember a specific ordering</li>
<li><strong>Flexibility</strong> - Function parameters with useful default values are not required at runtime, making Python scripts easier to comprehend</li>
</ul>
<p>An example of function parameters with default values and the use of keyword arguments to override the default values in Python is given below:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Define a function with two arguments with default values</span>
<span class="k">def</span> <span class="nf">multiverseHelloWorld</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">greeting</span><span class="o">=</span><span class="s">&#39;Hello&#39;</span><span class="p">):</span>

  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s"> from World </span><span class="si">%d</span><span class="s">!&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">greeting</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

<span class="c"># Call routine and override default keyword arguments</span>
<span class="c"># The keyword arguments can be provided in any order</span>
<span class="n">multiverseHelloWorld</span><span class="p">(</span><span class="n">greeting</span><span class="o">=</span><span class="s">&#39;Hola&#39;</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
<p>Likewise, an example of how to define default values for function parameters - which will be provided through the Python interface as <a class="reference external" href="http://www.swig.org/Doc1.3/SWIGPlus.html#SWIGPlus_default_args">SWIG default arguments</a> - in C/C++ is given below:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cm">/* Define a function prototype with two arguments with default values */</span>
<span class="kt">void</span> <span class="n">multiverseHelloWorld</span><span class="p">(</span><span class="kt">int</span> <span class="n">count</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">greeting</span><span class="o">=</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>

<span class="cm">/* Function implementation doesn&#39;t include default values */</span>
<span class="kt">void</span> <span class="nf">multiverseHelloWorld</span><span class="p">(</span><span class="kt">int</span> <span class="n">count</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">greeting</span><span class="p">)</span> <span class="p">{</span>

  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s from World %d!&quot;</span><span class="p">,</span> <span class="n">greeting</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="exception-handling">
<h2>2.4. Exception Handling<a class="headerlink" href="#exception-handling" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="numpy-typemaps">
<h2>2.5. NumPy Typemaps<a class="headerlink" href="#numpy-typemaps" title="Permalink to this headline">¶</a></h2>
<p>It is often useful to input/return NumPy data structures to/from C/C++ routines. The <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/c-api.html">NumPy C API</a> makes this functionality possibility through <strong>array conversions</strong>. In addition, it is possible to automatically <em>embed</em> the NumPy C API directly into the source code with the use of <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/swig.interface-file.html">NumPy typemaps</a>. Typemaps are a mechanism to match <strong>function signatures</strong> through a list of of function arguments. When SWIG finds a function which matches the typemap, it will target and subsequently modify the function to include the NumPy C API in order to input/output NumPy data arrays. Two types of parameters must be specified in the C/C++ function(s) of interest in order to match a NumPy typemap:</p>
<ul class="simple">
<li><strong>Array Pointer</strong> - The data type and pointer to the array</li>
<li><strong>Array Dimensions</strong> - An integer for each array dimension</li>
</ul>
<p>The <tt class="file docutils literal"><span class="pre">numpy.i</span></tt> interface file defines the typemaps and is shipped with OpenMOC in the <tt class="file docutils literal"><span class="pre">/OpenMOC/openmoc</span></tt> directory. In order to utilize NumPy typemaps, the following should be appended to the SWIG interface file used for the C/C++ extension module of interest:</p>
<div class="highlight-bash"><div class="highlight"><pre>%include <span class="s2">&quot;numpy.i&quot;</span>

%<span class="o">{</span>
  <span class="c">#define SWIG_FILE_WITH_INIT</span>
%<span class="o">}</span>

%init %<span class="o">{</span>
  import_array<span class="o">()</span>;
%<span class="o">}</span>
</pre></div>
</div>
<p>The following sections overview the basic steps to utilize NumPy typemaps to input NumPy data from Python into C/C++ routines, and return data from C/C++ routines as NumPy arrays.</p>
<div class="section" id="input-numpy-data-arrays">
<h3>2.5.1. Input NumPy Data Arrays<a class="headerlink" href="#input-numpy-data-arrays" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="file docutils literal"><span class="pre">numpy.i</span></tt> interface file provides two particular typemaps for inputting a NumPy data array into a C/C++ routine. The <span class="target" id="index-0"></span><tt class="xref std std-envvar docutils literal"><span class="pre">IN_ARRAY*</span></tt> defines an array which is passed into a routine but is not modified in-place by the C/C++ function and is not returned to the user. The <span class="target" id="index-1"></span><tt class="xref std std-envvar docutils literal"><span class="pre">INPLACE_ARRAY*</span></tt> typemap defines arrays that are modified in-place. In each case, the <span class="target" id="index-2"></span><tt class="xref std std-envvar docutils literal"><span class="pre">*</span></tt> represents the number of dimensions for the input array. For example, in order to input a 3D array to be modified in-place, one would use the <span class="target" id="index-3"></span><tt class="xref std std-envvar docutils literal"><span class="pre">INPLACE_ARRAY3</span></tt> typemap. The array dimension(s) are included in each typemap through the use of the <span class="target" id="index-4"></span><tt class="xref std std-envvar docutils literal"><span class="pre">DIM*</span></tt> parameter.</p>
<p>The following is an example C/C++ in which which we wish to wrap some function <tt class="docutils literal"><span class="pre">sum_array(...)</span></tt> with SWIG and provide the capability to input a NumPy array as a function parameter. Note that the function prototype includes a first paramter for the pointer to the input double array and a second parameter for the length of the array (which together form the function signature). The function prototype is given below in the <tt class="file docutils literal"><span class="pre">sum_array.h</span></tt> file below:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cm">/* Define function prototype to take in a NumPy array */</span>
<span class="kt">double</span> <span class="n">sum_array</span><span class="p">(</span><span class="kt">double</span><span class="o">*</span> <span class="n">input_array</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">);</span>
</pre></div>
</div>
<p>One possible implementation of the <tt class="docutils literal"><span class="pre">sum_array(...)</span></tt> routine is given in the <tt class="file docutils literal"><span class="pre">sum_array.c</span></tt> file below:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cm">/* Define function implementation */</span>
<span class="kt">double</span> <span class="nf">sum_array</span><span class="p">(</span><span class="kt">double</span><span class="o">*</span> <span class="n">input_array</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">)</span> <span class="p">{</span>

  <span class="cm">/* Initialize sum */</span>
  <span class="kt">double</span> <span class="n">sum</span> <span class="o">=</span> <span class="mf">0.</span><span class="p">;</span>

  <span class="cm">/* Compute sum of array elements */</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="n">sum</span> <span class="o">+=</span> <span class="n">input_array</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

  <span class="k">return</span> <span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following would be the required SWIG interface file to wrap <tt class="file docutils literal"><span class="pre">sum_array.h</span></tt> into the <tt class="docutils literal"><span class="pre">_sum_array</span></tt> C/C++ extension module for Python. The second-to-last line defines the NumPy typemap - the first tuple is a pair of the typemap (array type and dimension) while the second is the function signature to match using that typemap.</p>
<div class="highlight-bash"><div class="highlight"><pre>%module sum_array

%<span class="o">{</span>
  <span class="c">#define SWIG_FILE_WITH_INIT</span>
  <span class="c">#include &quot;sum_array.h&quot;</span>
%<span class="o">}</span>

%include <span class="s2">&quot;numpy.i&quot;</span>

%init %<span class="o">{</span>
  import_array<span class="o">()</span>;
%<span class="o">}</span>

%apply <span class="o">(</span>double* IN_ARRAY1, int DIM1<span class="o">)</span> <span class="o">{(</span>double* input_array, int length<span class="o">)}</span>;

%include <span class="s2">&quot;sum_array.h&quot;</span>
</pre></div>
</div>
<p>After <tt class="docutils literal"><span class="pre">swig</span></tt> is used to generate the wrap file and it is compiled into the <tt class="file docutils literal"><span class="pre">_sum_array.so</span></tt> shared library, the module may be imported into Python and the routine used with a NumPy array as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">rand</span>
<span class="kn">from</span> <span class="nn">_sum_array</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c"># Initialize a random NumPy array</span>
<span class="n">input_array</span> <span class="o">=</span> <span class="n">rand</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="c"># Sum the values in the random NumPy array</span>
<span class="nb">sum</span> <span class="o">=</span> <span class="n">sum_array</span><span class="p">(</span><span class="n">input_array</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">More detailed information on <span class="target" id="index-5"></span><tt class="xref std std-envvar docutils literal"><span class="pre">IN_ARRAY</span></tt> and <span class="target" id="index-6"></span><tt class="xref std std-envvar docutils literal"><span class="pre">INPLACE_ARRAY</span></tt> typemaps is provided in the official <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/swig.interface-file.html">NumPy.i</a> documetation.</p>
</div>
</div>
<div class="section" id="return-numpy-data-arrays">
<h3>2.5.2. Return NumPy Data Arrays<a class="headerlink" href="#return-numpy-data-arrays" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="file docutils literal"><span class="pre">numpy.i</span></tt> interface file also provides two typemaps for returning a NumPy data array from a C/C++ routine. The <span class="target" id="index-7"></span><tt class="xref std std-envvar docutils literal"><span class="pre">ARGOUT_ARRAY*</span></tt> used in situations where you would allocate an array on the heap and call the function to fill the array values. In Python, the arrays are allocated for you and returned as new array objects. As was the case for array input, the <span class="target" id="index-8"></span><tt class="xref std std-envvar docutils literal"><span class="pre">*</span></tt> represents the number of dimensions for the input array. For example, in order to input a 3D array to be modified in-place, one would use the <span class="target" id="index-9"></span><tt class="xref std std-envvar docutils literal"><span class="pre">ARGOUT_ARRAY3</span></tt> typemap. The array dimension(s) are included in each typemap through the use of the <span class="target" id="index-10"></span><tt class="xref std std-envvar docutils literal"><span class="pre">DIM*</span></tt> parameter.</p>
<p>The following is an example C/C++ in which which we wish to wrap some function <tt class="docutils literal"><span class="pre">get_rand_array(...)</span></tt> with SWIG and provide the capability to convert a C/C++ array into an output NumPy array. Based on the function signature, it would appear that the output array is input into the function and nothing is returned. Instead, SWIG will modify the source code with the NumPy C API such that a NumPy array is initialized and input as a C/C++ array and subsequently returned as a NumPy array.</p>
<p>The function prototype is given below in the <tt class="file docutils literal"><span class="pre">get_rand_array.h</span></tt> file below:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="cm">/* Define function prototype to take in a NumPy array */</span>
<span class="kt">void</span> <span class="n">get_rand_array</span><span class="p">(</span><span class="kt">double</span><span class="o">*</span> <span class="n">output_array</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">);</span>
</pre></div>
</div>
<p>One possible implementation of the <tt class="docutils literal"><span class="pre">get_rand_array(...)</span></tt> routine is given in the <tt class="file docutils literal"><span class="pre">get_rand_array.c</span></tt> file below:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cm">/* Define function implementation */</span>
<span class="kt">double</span> <span class="nf">get_rand_array</span><span class="p">(</span><span class="kt">double</span><span class="o">*</span> <span class="n">output_array</span><span class="p">,</span> <span class="kt">int</span> <span class="n">length</span><span class="p">)</span> <span class="p">{</span>

  <span class="cm">/* Populate input NumPy array with random numbers */</span>
  <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="n">output_array</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">rand</span><span class="p">();</span>

  <span class="k">return</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following would be the required SWIG interface file to wrap <tt class="file docutils literal"><span class="pre">get_rand_array.h</span></tt> into the <tt class="docutils literal"><span class="pre">_get_rand_array</span></tt> C/C++ extension module for Python. The second-to-last line defines the NumPy typemap - the first tuple is a pair of the typemap (array type and dimension) while the second is the function signature to match using that typemap.</p>
<div class="highlight-bash"><div class="highlight"><pre>%module get_rand_array

%<span class="o">{</span>
  <span class="c">#define SWIG_FILE_WITH_INIT</span>
  <span class="c">#include &quot;get_rand_array.h&quot;</span>
%<span class="o">}</span>

%include <span class="s2">&quot;numpy.i&quot;</span>

%init %<span class="o">{</span>
  import_array<span class="o">()</span>;
%<span class="o">}</span>

%apply <span class="o">(</span>double* ARGOUT_ARRAY1, int DIM1<span class="o">)</span> <span class="o">{(</span>double* output_array, int length<span class="o">)}</span>;

%include <span class="s2">&quot;get_rand_array.h&quot;</span>
</pre></div>
</div>
<p>After <tt class="docutils literal"><span class="pre">swig</span></tt> is used to generate a wrap file and it is compiled into the <tt class="file docutils literal"><span class="pre">_get_rand_array.so</span></tt> shared library, the module may be imported into Python and the routine used as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">numpy.random</span> <span class="kn">import</span> <span class="n">rand</span>
<span class="kn">from</span> <span class="nn">_get_rand_array</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c"># Sum the values in the random NumPy array</span>
<span class="n">length</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">output_array</span> <span class="o">=</span> <span class="n">get_rand_array</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">More detailed information on the <span class="target" id="index-11"></span><tt class="xref std std-envvar docutils literal"><span class="pre">ARGOUT_ARRAY</span></tt> typemap is provided in the official <a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/swig.interface-file.html">NumPy.i</a> documetation.</p>
</div>
</div>
</div>
<div class="section" id="swig-typemaps">
<h2>2.6. SWIG Typemaps<a class="headerlink" href="#swig-typemaps" title="Permalink to this headline">¶</a></h2>
<p><tt class="file docutils literal"><span class="pre">typemaps.i</span></tt> which is included in the standard SWIG installation.
<a class="reference internal" href="../usersguide/install.html#cmdoption--no-numpy"><em class="xref std std-option">--no-numpy</em></a> flag for machines where NumPy is not available.</p>
</div>
<div class="section" id="macros">
<h2>2.7. Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h2>
<p>SWIG provides <a class="reference external" href="http://en.wikipedia.org/wiki/C_preprocessor">preprocessing</a> capabilities for interface files. <a class="reference external" href="http://www.swig.org/Doc1.3/Preprocessor.html#Preprocessor_nn5">Macro expansions</a> may be defined in the interface file using the traditional syntax for C/C++:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#ifndef PI</span>
<span class="cp">#define PI 3.14159</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>SWIG also includes special <a class="reference external" href="http://www.swig.org/Doc1.3/Preprocessor.html#Preprocessor_nn6">SWIG macros</a> with more enhanced capabilities for interface files.</p>
</div>
<div class="section" id="typedefs">
<h2>2.8. Typedefs<a class="headerlink" href="#typedefs" title="Permalink to this headline">¶</a></h2>
<p>SWIG provides functionality to define <a class="reference external" href="http://en.wikipedia.org/wiki/Typedef">typedefs</a> in interface files. <a class="reference external" href="http://www.swig.org/Doc1.3/SWIG.html#SWIG_nn20">SWIG typedefs</a> can be defined using the same syntax as in C/C++. As discussed in the SWIG online documentation, the typedef must be defined twice in the interface file for in order for it to be propagated to the generated wrapper file:</p>
<div class="highlight-bash"><div class="highlight"><pre>%<span class="o">{</span>

  /* Include in the generated wrapper file */
  typedef unsigned int size_t;

%<span class="o">}</span>

/* Tell SWIG about it */
typedef unsigned int size_t;
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2. Simplified Wrapper Interface Generator (SWIG)</a><ul>
<li><a class="reference internal" href="#swig-wrap-file">2.1. SWIG Wrap File</a><ul>
<li><a class="reference internal" href="#c-c-wrap-file">2.1.1. C/C++ Wrap File</a></li>
<li><a class="reference internal" href="#python-bindings-file">2.1.2. Python Bindings File</a></li>
</ul>
</li>
<li><a class="reference internal" href="#swig-from-the-command-line">2.2. SWIG from the Command Line</a></li>
<li><a class="reference internal" href="#default-parameters">2.3. Default Parameters</a></li>
<li><a class="reference internal" href="#exception-handling">2.4. Exception Handling</a></li>
<li><a class="reference internal" href="#numpy-typemaps">2.5. NumPy Typemaps</a><ul>
<li><a class="reference internal" href="#input-numpy-data-arrays">2.5.1. Input NumPy Data Arrays</a></li>
<li><a class="reference internal" href="#return-numpy-data-arrays">2.5.2. Return NumPy Data Arrays</a></li>
</ul>
</li>
<li><a class="reference internal" href="#swig-typemaps">2.6. SWIG Typemaps</a></li>
<li><a class="reference internal" href="#macros">2.7. Macros</a></li>
<li><a class="reference internal" href="#typedefs">2.8. Typedefs</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="software_design.html"
                        title="previous chapter">1. Software Design</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="build_system.html"
                        title="next chapter">3. Python Build System</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/devguide/swig.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="build_system.html" title="3. Python Build System"
             >next</a> |</li>
        <li class="right" >
          <a href="software_design.html" title="1. Software Design"
             >previous</a> |</li>
        <li><a href="../index.html">OpenMOC Documentation</a> &raquo;</li>
          <li><a href="index.html" >Developer&#8217;s Guide</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2012-2013, Massachusetts Institute of Technology.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-30411614-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </body>
</html>